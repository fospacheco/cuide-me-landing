<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cuide-me - Espaço do Cliente</title>
  <meta name="description" content="Área exclusiva para clientes da Cuide-me. Encontre cuidadores por especialidade e gerencie seus agendamentos."/>
  <meta name="keywords" content="cuidador, espaço do cliente, perfil, agendamentos, Cuide-me"/>
  <meta name="author" content="Cuide-me"/>
  <style>
    /* ================= SEU CSS ORIGINAL COM AJUSTES ================= */
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to bottom, #f2fbfd, #ffffff);
      color: #245063;
      font-size: 1.08rem;
      margin: 0;
      padding: 0;
    }
    h1, h2, h3, h4 {
      color: #1ba8c2;
      font-weight: bold;
      margin: 0;
    }
    .container {
      max-width: 1200px;
      margin: auto;
      padding: 2rem;
    }
    header {
      background: #fff;
      border-bottom: 4px solid #1ba8c2;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo-icon {
      width: 72px;
      height: auto;
    }
    .logo-subtitle {
      margin-left: 1rem;
      font-style: italic;
      color: #333;
    }
    nav a {
      margin-left: 1rem;
      text-decoration: none;
      color: #000;
      font-weight: 600;
      padding: .5rem;
    }
    .logout-btn {
      background: #1ba8c2;
      color: #fff;
      padding: .5rem 1rem;
      border-radius: 12px;
    }

    #profile-section h1 {
      font-size: 2rem;
      text-align: center;
      margin-bottom: 2rem;
    }
    .profile-section {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .profile-card {
      background: #fff;
      border-radius: 1.5rem;
      padding: 2rem;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
      width: 360px;
    }
    .profile-header {
      display: flex;
      gap: 1.5rem;
      align-items: center;
      margin-bottom: 1rem;
    }
    .profile-pic {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #e2ebe9;
    }
    .profile-header h2 {
      font-size: 1.5rem;
    }
    .profile-since {
      font-size: .9rem;
      color: #245063;
      text-align: left;
      margin-top: .5rem;
      margin-left: calc(80px + 1.5rem);
    }
    .profile-details {
      margin-top: 1.5rem;
    }
    .detail-row {
      display: flex;
      justify-content: space-between;
      padding: .5rem 0;
      border-bottom: 1px solid #e2ebe9;
    }
    .detail-label {
      font-weight: bold;
      color: #1ba8c2;
    }

    /* Busca de cuidadores */
    .search-box {
      background: #fff;
      border-radius: 1.5rem;
      padding: 2rem;
      box-shadow: 0 6px 16px rgba(0,0,0,.08);
      margin-top: 3rem;
    }
    .filter-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }
    select {
      padding: .8rem;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .caregiver-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(300px,1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    @media (max-width:768px) {
      .profile-section { flex-direction: column; }
      .filter-row { flex-direction: column; }
      select { width: 100%; }
    }
    .fade-in-up {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp .6s ease forwards;
    }
    @keyframes fadeInUp {
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;">
      <img src="logo_cuide_me.png" alt="Logo Cuide-me" class="logo-icon">
      <span class="logo-subtitle">Conectando quem cuida e quem precisa de cuidado</span>
    </div>
    <nav>
      <a href="https://cuide-me.vercel.app/dashboard_cliente.html" id="profile-link">Meu Perfil</a>
      <a href="#" id="search-link">Buscar Cuidadores</a>
      <a href="#" class="logout-btn" id="logout-btn">Sair</a>
    </nav>
  </header>

  <main class="container">
    <!-- Perfil -->
    <section id="profile-section">
      <h1>Bem-vindo, <span id="client-name"></span>!</h1>
      <div class="profile-section">
        <div class="profile-card fade-in-up">
          <div class="profile-header">
            <img id="client-photo" alt="Foto do cliente" class="profile-pic">
            <h2 id="client-fullname"></h2>
          </div>
          <div class="profile-since">Cliente desde <span id="client-since"></span></div>
          <div class="profile-details">
            <div class="detail-row"><div class="detail-label">Bairro:</div><div id="client-bairro" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">Região:</div><div id="client-regiao" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">Necessidades:</div><div id="client-necessidades" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">Telefone:</div><div id="client-phone" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">E-mail:</div><div id="client-email" class="detail-value"></div></div>
          </div>
        </div>
        <div class="profile-card fade-in-up">
          <h3>Informações de Emergência</h3>
          <div class="profile-details">
            <div class="detail-row"><div class="detail-label">Nome:</div><div id="emergency-name" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">Telefone:</div><div id="emergency-phone" class="detail-value"></div></div>
            <div class="detail-row"><div class="detail-label">Parentesco:</div><div id="emergency-relation" class="detail-value"></div></div>
          </div>
          <a href="editar-perfil.html" class="btn btn-primary" style="margin-top:1.5rem;">Editar Perfil</a>
        </div>
      </div>
    </section>

    <!-- Busca de cuidadores -->
    <section id="search-section" style="display:none;">
      <div class="search-box">
        <h2>Encontrar Cuidador por Especialidade</h2>
        <div class="filter-row">
          <div>
            <label for="specialty-filter">Especialidade:</label>
            <select id="specialty-filter"><option value="">Todas especialidades</option></select>
          </div>
          <div>
            <label for="region-filter">Região:</label>
            <select id="region-filter"><option value="">Todas regiões</option></select>
          </div>
          <div>
            <label for="availability-filter">Disponibilidade:</label>
            <select id="availability-filter">
              <option value="">Qualquer horário</option>
              <option value="Manhã">Manhã</option>
              <option value="Tarde">Tarde</option>
              <option value="Noite">Noite</option>
            </select>
          </div>
        </div>
        <button id="search-btn" class="btn btn-primary">Buscar Cuidadores</button>
      </div>
      <div id="caregiver-results">
        <div class="caregiver-grid" id="caregiver-grid"></div>
      </div>
    </section>
  </main>

  <!-- Modais e Footer (mantém seu código original) -->

  <script>
    const AIRTABLE_API_KEY  = 'patmFPPQtaRfGjO4M.0465c4e6487e5ef7dd4185af57072c803ac49f7d4b94cd7bf45eb65e48a368fd';
    const AIRTABLE_BASE_ID  = 'appVxCKjvJAah2r27';
    const TABLE_CLIENTES_ID = 'tblHcYbnGF4qjLC6K';
    const VIEW_CLIENTES     = 'Grid view';

    async function fetchAirtableRecords(tableId, viewName) {
      const url = `https://api.airtable.com/v0/${AIRTABLE_BASE_ID}/${tableId}?view=${encodeURIComponent(viewName)}`;
      try {
        const res = await fetch(url, {
          headers: { 'Authorization': `Bearer ${AIRTABLE_API_KEY}` }
        });
        if (!res.ok) return [];
        const j = await res.json();
        return j.records || [];
      } catch {
        return [];
      }
    }

    async function loadClientData() {
      const uid = localStorage.getItem('clientUid');
      if (!uid) return;
      const recs = await fetchAirtableRecords(TABLE_CLIENTES_ID, VIEW_CLIENTES);
      const rec = recs.find(r => r.fields.UID === uid);
      if (!rec) return;
      const f = rec.fields;
      document.getElementById('client-name').textContent        = (f['Nome Completo']||'').split(' ')[0];
      document.getElementById('client-fullname').textContent    = f['Nome Completo']||'';
      document.getElementById('client-since').textContent       = new Date(rec.createdTime).getFullYear();
      document.getElementById('client-bairro').textContent      = f.Bairro || '';
      document.getElementById('client-regiao').textContent      = f['Região (from Bairro)'] || '';
      document.getElementById('client-necessidades').textContent = (f.Necessidades || []).join(', ');
      document.getElementById('client-phone').textContent       = f['Telefone/WhatsApp'] || '';
      document.getElementById('client-email').textContent       = f['E-mail'] || '';
    }

    document.addEventListener('DOMContentLoaded', async () => {
      await loadClientData();
      // chamar aqui loadSpecialties(), loadRegions(), setupEventListeners()…
    });
  </script>
</body>
</html>
